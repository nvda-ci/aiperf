{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "categories.schema.json",
  "additionalProperties": {
    "description": "Specification for a plugin category.\n\nCategories define extension points in AIPerf where plugins can provide\ncustom implementations. Each category has a protocol that plugins must\nimplement and an enum that lists all available plugin types.",
    "properties": {
      "protocol": {
        "description": "The interface that plugins in this category must implement. Use 'module.path:ClassName' format, e.g., 'aiperf.plugin.protocols:EndpointProtocol'.",
        "title": "Protocol",
        "type": "string"
      },
      "metadata_class": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "type": "null"
          }
        ],
        "default": null,
        "description": "Optional Pydantic model for category-specific metadata. When set, plugins can include typed metadata fields validated against this schema. Use 'module.path:ClassName' format.",
        "title": "Metadata Class"
      },
      "enum": {
        "description": "Name of the enum that will be auto-generated from registered plugins. This enum is used in config files and APIs to select plugin types, e.g., 'EndpointType' generates EndpointType.CHAT, EndpointType.COMPLETIONS, etc.",
        "title": "Enum",
        "type": "string"
      },
      "description": {
        "description": "Brief explanation of what this category is for and when to use it.",
        "title": "Description",
        "type": "string"
      },
      "internal": {
        "default": false,
        "description": "Set to true for infrastructure categories not meant for end users. Internal categories are hidden from documentation and plugin listings.",
        "title": "Internal",
        "type": "boolean"
      }
    },
    "required": [
      "protocol",
      "enum",
      "description"
    ],
    "title": "CategorySpec",
    "type": "object"
  },
  "description": "Root model for categories.yaml file.\n\nThis file defines all plugin extension points in AIPerf. Each category\nspecifies a protocol interface and generates an enum for type selection.\n\nExample:\n    endpoint:\n      protocol: aiperf.plugin.protocols:EndpointProtocol\n      enum: EndpointType\n      description: HTTP endpoint handlers for LLM APIs",
  "properties": {
    "schema_version": {
      "default": "1.0",
      "description": "Version of the categories.yaml schema format. Used for backwards compatibility.",
      "title": "Schema Version",
      "type": "string"
    }
  },
  "title": "CategoriesFile",
  "type": "object"
}
