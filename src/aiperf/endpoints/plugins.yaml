# SPDX-FileCopyrightText: Copyright (c) 2025-2026 NVIDIA CORPORATION & AFFILIATES. All rights reserved.
# SPDX-License-Identifier: Apache-2.0
# yaml-language-server: $schema=../plugin/schema/plugins.schema.json

schema_version: "1.0"

# =============================================================================
# Endpoints
# =============================================================================
# Endpoints define how to format requests and parse responses for different APIs.
# One-to-one mapping: exactly one endpoint is selected based on endpoint_type config.
# =============================================================================
endpoint:
  chat:
    class: aiperf.endpoints.openai_chat:ChatEndpoint
    description: |
      OpenAI Chat Completions endpoint. Supports multi-modal inputs (text, images,
      audio, video) and both streaming and non-streaming responses. Uses
      /v1/chat/completions path.

  cohere_rankings:
    class: aiperf.endpoints.cohere_rankings:CohereRankingsEndpoint
    description: |
      Cohere Rankings endpoint. Provides document ranking capabilities using
      Cohere's reranking API.

  completions:
    class: aiperf.endpoints.openai_completions:CompletionsEndpoint
    description: |
      OpenAI Completions endpoint. Supports text completions with streaming for
      legacy completion-based models. Uses /v1/completions path.

  embeddings:
    class: aiperf.endpoints.openai_embeddings:EmbeddingsEndpoint
    description: |
      OpenAI Embeddings endpoint. Generates vector embeddings for text inputs using
      embedding models. Uses /v1/embeddings path. Non-streaming only.

  hf_tei_rankings:
    class: aiperf.endpoints.hf_tei_rankings:HFTeiRankingsEndpoint
    description: |
      Hugging Face TEI (Text Embeddings Inference) Rankings endpoint. Provides
      ranking using TEI reranking models.

  huggingface_generate:
    class: aiperf.endpoints.huggingface_generate:HuggingFaceGenerateEndpoint
    description: |
      Hugging Face TGI (Text Generation Inference) endpoint. Supports both streaming
      (/generate_stream) and non-streaming (/generate) text generation.

  image_generation:
    class: aiperf.endpoints.openai_image_generation:ImageGenerationEndpoint
    description: |
      OpenAI Image Generation endpoint. Generates images from text prompts using
      models like DALL-E. Supports streaming responses. Uses /v1/images/generations
      path.

  nim_rankings:
    class: aiperf.endpoints.nim_rankings:NIMRankingsEndpoint
    description: |
      NVIDIA NIM Rankings endpoint. Processes ranking requests by taking a query
      and passages, returning relevance scores. Uses /v1/ranking path.

  solido_rag:
    class: aiperf.endpoints.solido_rag:SolidoEndpoint
    description: |
      Solido RAG endpoint. Custom endpoint for Solido RAG pipeline integration with
      retrieval-augmented generation.

  template:
    class: aiperf.endpoints.template_endpoint:TemplateEndpoint
    description: |
      Template endpoint for creating custom endpoint implementations. Serves as a
      starting point for plugin developers to implement new API formats.
